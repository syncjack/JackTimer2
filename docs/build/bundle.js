!function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function u(e,t){e.appendChild(t)}function a(e,t,n){e.insertBefore(t,n||null)}function c(e){e.parentNode.removeChild(e)}function s(e){return document.createElement(e)}function l(e){return document.createTextNode(e)}function d(){return l(" ")}function f(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function p(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function m(e){return""===e?void 0:+e}function v(e,t){t=""+t,e.data!==t&&(e.data=t)}function g(e,t){e.value=null==t?"":t}let h;function y(e){h=e}const b=[],w=[],T=[],x=[],$=Promise.resolve();let M=!1;function j(e){T.push(e)}let E=!1;const _=new Set;function I(){if(!E){E=!0;do{for(let e=0;e<b.length;e+=1){const t=b[e];y(t),O(t.$$)}for(b.length=0;w.length;)w.pop()();for(let e=0;e<T.length;e+=1){const t=T[e];_.has(t)||(_.add(t),t())}T.length=0}while(b.length);for(;x.length;)x.pop()();M=!1,E=!1,_.clear()}}function O(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(j)}}const k=new Set;function S(e,t){-1===e.$$.dirty[0]&&(b.push(e),M||(M=!0,$.then(I)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function N(i,u,a,s,l,d,f=[-1]){const p=h;y(i);const m=u.props||{},v=i.$$={fragment:null,ctx:null,props:d,update:e,not_equal:l,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:[]),callbacks:n(),dirty:f};let g=!1;if(v.ctx=a?a(i,m,(e,t,...n)=>{const r=n.length?n[0]:t;return v.ctx&&l(v.ctx[e],v.ctx[e]=r)&&(v.bound[e]&&v.bound[e](r),g&&S(i,e)),t}):[],v.update(),g=!0,r(v.before_update),v.fragment=!!s&&s(v.ctx),u.target){if(u.hydrate){const e=function(e){return Array.from(e.childNodes)}(u.target);v.fragment&&v.fragment.l(e),e.forEach(c)}else v.fragment&&v.fragment.c();u.intro&&((b=i.$$.fragment)&&b.i&&(k.delete(b),b.i(w))),function(e,n,i){const{fragment:u,on_mount:a,on_destroy:c,after_update:s}=e.$$;u&&u.m(n,i),j(()=>{const n=a.map(t).filter(o);c?c.push(...n):r(n),e.$$.on_mount=[]}),s.forEach(j)}(i,u.target,u.anchor),I()}var b,w;y(p)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function A(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var q,R,U=A((function(e,t){!function(e){var t,n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,r=new WeakMap,o=(t=r,function(e,n){return t.set(e,n),n}),i=function(e,t){return function(r){var o=t.get(r),i=void 0===o?r.size:o<1073741824?o+1:0;if(!r.has(i))return e(r,i);if(r.size<536870912){for(;r.has(i);)i=Math.floor(1073741824*Math.random());return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}}(o,r),u=function(e){return function(t){var n=e(t);return t.add(n),n}}(i);e.addUniqueNumber=u,e.generateUniqueNumber=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)}(R={path:q,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&R.path)}},R.exports),R.exports));let P=null;const D=((e,t)=>()=>{if(null!==P)return P;const n=new Blob([t],{type:"application/javascript; charset=utf-8"}),r=URL.createObjectURL(n);return P=e(r),P.setTimeout(()=>URL.revokeObjectURL(r),0),P})(e=>{const t=new Map([[0,()=>{}]]),n=new Map([[0,()=>{}]]),r=new Map,o=new Worker(e);o.addEventListener("message",({data:e})=>{if(void 0!==(o=e).method&&"call"===o.method){const{params:{timerId:o,timerType:i}}=e;if("interval"===i){const e=t.get(o);if("number"==typeof e){const t=r.get(e);if(void 0===t||t.timerId!==o||t.timerType!==i)throw new Error("The timer is in an undefined state.")}else{if(void 0===e)throw new Error("The timer is in an undefined state.");e()}}else if("timeout"===i){const e=n.get(o);if("number"==typeof e){const t=r.get(e);if(void 0===t||t.timerId!==o||t.timerType!==i)throw new Error("The timer is in an undefined state.")}else{if(void 0===e)throw new Error("The timer is in an undefined state.");e(),n.delete(o)}}}else{if(!(e=>null===e.error&&"number"==typeof e.id)(e)){const{error:{message:t}}=e;throw new Error(t)}{const{id:o}=e,i=r.get(o);if(void 0===i)throw new Error("The timer is in an undefined state.");const{timerId:u,timerType:a}=i;r.delete(o),"interval"===a?t.delete(u):n.delete(u)}}var o});return{clearInterval:e=>{const n=U.generateUniqueNumber(r);r.set(n,{timerId:e,timerType:"interval"}),t.set(e,n),o.postMessage({id:n,method:"clear",params:{timerId:e,timerType:"interval"}})},clearTimeout:e=>{const t=U.generateUniqueNumber(r);r.set(t,{timerId:e,timerType:"timeout"}),n.set(e,t),o.postMessage({id:t,method:"clear",params:{timerId:e,timerType:"timeout"}})},setInterval:(e,n)=>{const r=U.generateUniqueNumber(t);return t.set(r,()=>{e(),"function"==typeof t.get(r)&&o.postMessage({id:null,method:"set",params:{delay:n,now:performance.now(),timerId:r,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:n,now:performance.now(),timerId:r,timerType:"interval"}}),r},setTimeout:(e,t)=>{const r=U.generateUniqueNumber(n);return n.set(r,e),o.postMessage({id:null,method:"set",params:{delay:t,now:performance.now(),timerId:r,timerType:"timeout"}}),r}}},'!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return d}));const r=new Map,o=new Map,i=e=>{const t=r.get(e);if(void 0===t)throw new Error(\'There is no interval scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(t),r.delete(e)},u=e=>{const t=o.get(e);if(void 0===t)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(t),o.delete(e)},f=(e,t)=>{let n,r;if("performance"in self){const o=performance.now();n=o,r=e-Math.max(0,o-t)}else n=Date.now(),r=e;return{expected:n+r,remainingDelay:r}},c=(e,t,n,r)=>{const o="performance"in self?performance.now():Date.now();o>n?postMessage({id:null,method:"call",params:{timerId:t,timerType:r}}):e.set(t,setTimeout(c,n-o,e,t,n,r))},a=(e,t,n)=>{const{expected:o,remainingDelay:i}=f(e,n);r.set(t,setTimeout(c,i,r,t,o,"interval"))},d=(e,t,n)=>{const{expected:r,remainingDelay:i}=f(e,n);o.set(t,setTimeout(c,i,o,t,r,"timeout"))}},function(e,t,n){"use strict";n.r(t);var r=n(2);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(3);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(4);for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o);var f=n(5);for(var o in f)"default"!==o&&function(e){n.d(t,e,(function(){return f[e]}))}(o);var c=n(6);for(var o in c)"default"!==o&&function(e){n.d(t,e,(function(){return c[e]}))}(o);var a=n(7);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);var d=n(8);for(var o in d)"default"!==o&&function(e){n.d(t,e,(function(){return d[e]}))}(o);var s=n(9);for(var o in s)"default"!==o&&function(e){n.d(t,e,(function(){return s[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(11);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(12);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(13);for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(1);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var u=n(10);for(var i in u)"default"!==i&&function(e){n.d(t,e,(function(){return u[e]}))}(i);addEventListener("message",({data:e})=>{try{if("clear"===e.method){const{id:t,params:{timerId:n,timerType:o}}=e;if("interval"===o)Object(r.a)(n),postMessage({error:null,id:t});else{if("timeout"!==o)throw new Error(\'The given type "\'.concat(o,\'" is not supported\'));Object(r.b)(n),postMessage({error:null,id:t})}}else{if("set"!==e.method)throw new Error(\'The given method "\'.concat(e.method,\'" is not supported\'));{const{params:{delay:t,now:n,timerId:o,timerType:i}}=e;if("interval"===i)Object(r.c)(t,o,n);else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));Object(r.d)(t,o,n)}}}}catch(t){postMessage({error:{message:t.message},id:e.id,result:null})}})}]);'),L=(e,t)=>D().setInterval(e,t);function C(t){let n,r,o;return{c(){n=s("button"),n.textContent="Stop",p(n,"class","svelte-gyjhj6")},m(e,i){a(e,n,i),r||(o=f(n,"click",t[10]),r=!0)},p:e,d(e){e&&c(n),r=!1,o()}}}function z(e){let t,n,o,i,m,v,g;return{c(){t=s("button"),n=l("Start"),o=d(),i=s("button"),m=l("Test (Play 3 beats)"),t.disabled=e[8],p(t,"class","svelte-gyjhj6"),i.disabled=e[8],p(i,"class","svelte-gyjhj6")},m(r,c){a(r,t,c),u(t,n),a(r,o,c),a(r,i,c),u(i,m),v||(g=[f(t,"click",e[9]),f(i,"click",e[11])],v=!0)},p(e,n){256&n&&(t.disabled=e[8]),256&n&&(i.disabled=e[8])},d(e){e&&c(t),e&&c(o),e&&c(i),v=!1,r(g)}}}function H(e){let t;function n(e,t){return e[4]>0?F:B}let r=n(e),o=r(e);return{c(){o.c(),t=l("")},m(e,n){o.m(e,n),a(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&c(t)}}}function B(e){let t,n,r,o,i;return{c(){t=s("div"),n=l("Stokes: "),r=l(e[3]),o=l(" / "),i=l(e[6]),p(t,"class","font-mono")},m(e,c){a(e,t,c),u(t,n),u(t,r),u(t,o),u(t,i)},p(e,t){8&t&&v(r,e[3]),64&t&&v(i,e[6])},d(e){e&&c(t)}}}function F(e){let t,n,r;return{c(){t=s("div"),n=l("Ready? "),r=l(e[4])},m(e,o){a(e,t,o),u(t,n),u(t,r)},p(e,t){16&t&&v(r,e[4])},d(e){e&&c(t)}}}function G(e){let t,n,o,i,m,h,y,b,w,T,x,$,M,j,E,_,I,O,k,S,N;return{c(){t=s("div"),n=s("div"),o=s("label"),i=l("Duration\n                        "),m=s("input"),h=d(),y=s("div"),b=s("output"),w=l(e[5]),T=d(),x=s("div"),$=s("div"),M=s("label"),j=l("Strokes per Minute\n                        "),E=s("input"),_=d(),I=s("div"),O=s("output"),k=l(e[1]),p(m,"step","15"),p(m,"min","15"),p(m,"max","1800"),p(m,"type","range"),p(m,"class","svelte-gyjhj6"),p(n,"class","col-span-5"),p(b,"class","flex self-end"),p(y,"class","col-span-1 flex pb-1"),p(t,"class","grid grid-cols-6 gap-4"),p(E,"step","10"),p(E,"min","10"),p(E,"max","400"),p(E,"type","range"),p(E,"class","svelte-gyjhj6"),p($,"class","col-span-5"),p(O,"class","flex self-end"),p(I,"class","col-span-1 flex pb-1"),p(x,"class","grid grid-cols-6 gap-4")},m(r,c){a(r,t,c),u(t,n),u(n,o),u(o,i),u(o,m),g(m,e[0]),u(t,h),u(t,y),u(y,b),u(b,w),a(r,T,c),a(r,x,c),u(x,$),u($,M),u(M,j),u(M,E),g(E,e[1]),u(x,_),u(x,I),u(I,O),u(O,k),S||(N=[f(m,"change",e[12]),f(m,"input",e[12]),f(E,"change",e[13]),f(E,"input",e[13])],S=!0)},p(e,t){1&t&&g(m,e[0]),32&t&&v(w,e[5]),2&t&&g(E,e[1]),2&t&&v(k,e[1])},d(e){e&&c(t),e&&c(T),e&&c(x),S=!1,r(N)}}}function W(t){let n,o,i,m,h,y,b,w,T,x,$,M,j,E,_,I,O,k,S=100*t[2]+"";function N(e,t){return e[7]?C:z}let A=N(t),q=A(t),R=t[7]&&H(t),U=!t[7]&&G(t);return{c(){n=s("div"),o=s("div"),i=s("div"),q.c(),m=d(),R&&R.c(),h=d(),U&&U.c(),y=d(),b=s("div"),w=s("div"),T=s("label"),x=l("Volume\n                    "),$=s("input"),M=d(),j=s("div"),E=s("output"),_=l(S),I=l("%"),p($,"step","0.1"),p($,"min","0"),p($,"max","1"),p($,"type","range"),p($,"class","svelte-gyjhj6"),p(w,"class","col-span-5"),p(E,"class","flex self-end"),p(j,"class","col-span-1 flex pb-1"),p(b,"class","grid grid-cols-6 gap-4"),p(o,"class","grid grid-flow-row gap-4"),p(n,"class","container mx-auto px-4 py-4")},m(e,r){a(e,n,r),u(n,o),u(o,i),q.m(i,null),u(o,m),R&&R.m(o,null),u(o,h),U&&U.m(o,null),u(o,y),u(o,b),u(b,w),u(w,T),u(T,x),u(T,$),g($,t[2]),u(b,M),u(b,j),u(j,E),u(E,_),u(E,I),O||(k=[f($,"change",t[14]),f($,"input",t[14])],O=!0)},p(e,[t]){A===(A=N(e))&&q?q.p(e,t):(q.d(1),q=A(e),q&&(q.c(),q.m(i,null))),e[7]?R?R.p(e,t):(R=H(e),R.c(),R.m(o,h)):R&&(R.d(1),R=null),e[7]?U&&(U.d(1),U=null):U?U.p(e,t):(U=G(e),U.c(),U.m(o,y)),4&t&&g($,e[2]),4&t&&S!==(S=100*e[2]+"")&&v(_,S)},i:e,o:e,d(e){e&&c(n),q.d(),R&&R.d(),U&&U.d(),O=!1,r(k)}}}function X(e,t,n){let r,o=60,i=100,u=.8,a=0,c=4,s="",l=0,d=!1,f=!1;new Howl({src:["assets/kick-drum.wav"]});const p=new Howl({src:["assets/cum.mp3"]}),v=new Tone.Synth({oscillator:{type:"triangle",modulationType:"sine",modulationIndex:3,harmonicity:3.4},envelope:{attack:.001,decay:.1,sustain:.01,release:.1}}).toDestination(),g=()=>{v.triggerAttackRelease("A1","16n")},h=()=>{n(7,d=!0),n(6,l=Math.round(o*i/60)),r=L(function e(){return c>0?n(4,c-=1):n(3,a+=1),a===l?(p.play(),y()):c>0?v.triggerAttackRelease("C3","4n"):0===c&&0===a?v.triggerAttackRelease("C5","4n"):g(),e}(),60/i*1e3)},y=()=>{var e;n(7,d=!1),n(3,a=0),n(4,c=4),e=r,D().clearInterval(e)};return e.$$.update=()=>{if(2&e.$$.dirty&&i&&d&&(y(),h()),4&e.$$.dirty&&u&&Howler.volume(u),1&e.$$.dirty&&o)if(o<=60)n(5,s=o+" seconds");else{const e=(o%60).toString().padStart(2,"0");n(5,s=`${Math.floor(o/60)}:${e} minutes`)}},[o,i,u,a,c,s,l,d,f,h,y,()=>{n(8,f=!0),n(6,l=3),r=L(function e(){return n(3,a+=1),g(),a===l&&(n(8,f=!1),y()),e}(),60/i*1e3)},function(){o=m(this.value),n(0,o)},function(){i=m(this.value),n(1,i)},function(){u=m(this.value),n(2,u)}]}new class extends class{$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}{constructor(e){super(),N(this,e,X,W,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
